<html>
    <head>
        <title>
         Cosmic Spider
        </title>
    </head>
        <script src="https://cdn.socket.io/4.6.0/socket.io.min.js" integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+" crossorigin="anonymous"></script>
        <script>
            var socket=io();
            function setUsername(){
                if(document.getElementById('name').value==''){
                    alert("please enter a name");
                }
                else{
                    socket.emit('setUsername',document.getElementById('name').value);
                }
            }
            var user;
            socket.on('user_exist',function(data){
                document.getElementById('exist-error').innerHTML=data;
            });
            socket.on('setUser',function(data){
                user=data.username;
                localStorage.setItem('user-name',user);
                window.location.href="gamepage.html";
            });
        </script>
    <body>
     <h1>Group chat app</h1>
     <div id="new-user-form">
        <div id="exist-error"></div>
        <input type="text" id="name" name="name" placeholder="enter your name">
        <button type="button" id="work" onclick="setUsername()">chat with users</button>
     </div>
     <script>
        var textBox=document.getElementById("name");
            var buton=document.getElementById("work");
            textBox.addEventListener("keyup",function(event){
                if(event.keyCode==13){
                buton.onclick();
                }
            });
     </script>

    </body>
</html>